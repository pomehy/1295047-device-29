const mapLink=document.querySelector(".contacts__map"),mapModal=document.querySelector(".map-modal"),mapModalClose=document.querySelector(".map-modal--close"),writeUsLink=document.querySelector(".contacts__link"),writeUsModal=document.querySelector(".write-us"),writeUsClose=document.querySelector(".write-us--close"),userName=writeUsModal.querySelector("[name=user-name]"),userEmail=writeUsModal.querySelector("[name=user-email]"),userText=writeUsModal.querySelector("[name=user-text]"),writeUsForm=writeUsModal.querySelector("form"),storageUserName=localStorage.getItem("user-name"),isStorageSupport=!0;let storage="",promoSliderItems=document.querySelectorAll(".slider__item"),promoSliderButtons=document.querySelectorAll(".slider__button"),serviceSliderItems=document.querySelectorAll(".service-slider__item"),serviceSliderButtons=document.querySelectorAll(".service__button"),serviceItem=document.querySelectorAll(".service__item");mapLink.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-show")}),mapModalClose.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.remove("modal-show")});try{storage=localStorage.getItem("user-name")}catch(e){isStorageSupport=!1}writeUsLink.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.add("modal-show"),storageUserName?(userName.value=storageUserName,userEmail.focus()):userName.focus()}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.remove("modal-show"),writeUsModal.classList.remove("modal-error")}),writeUsForm.addEventListener("submit",function(e){userName.value&&userEmail.value&&userText.value?isStorageSupport&&localStorage.setItem("user-name",userName.value):(e.preventDefault(),writeUsModal.classList.remove("modal-error"),writeUsModal.offsetWidth=writeUsModal.offsetWidth,writeUsModal.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(mapModal.classList.contains("modal-show")?(e.preventDefault(),mapModal.classList.remove("modal-show")):writeUsModal.classList.contains("modal-show")&&(e.preventDefault(),writeUsModal.classList.remove("modal-show"),writeUsModal.classList.remove("modal-error")))}),promoSliderButtons[0].addEventListener("click",function(e){e.preventDefault(),promoSliderItems[0].classList.add("slider__item--active"),promoSliderItems[1].classList.remove("slider__item--active"),promoSliderItems[2].classList.remove("slider__item--active"),promoSliderButtons[0].classList.add("slider__button--active"),promoSliderButtons[1].classList.remove("slider__button--active"),promoSliderButtons[2].classList.remove("slider__button--active")}),promoSliderButtons[1].addEventListener("click",function(e){e.preventDefault(),promoSliderItems[1].classList.add("slider__item--active"),promoSliderItems[0].classList.remove("slider__item--active"),promoSliderItems[2].classList.remove("slider__item--active"),promoSliderButtons[1].classList.add("slider__button--active"),promoSliderButtons[0].classList.remove("slider__button--active"),promoSliderButtons[2].classList.remove("slider__button--active")}),promoSliderButtons[2].addEventListener("click",function(e){e.preventDefault(),promoSliderItems[2].classList.add("slider__item--active"),promoSliderItems[0].classList.remove("slider__item--active"),promoSliderItems[1].classList.remove("slider__item--active"),promoSliderButtons[2].classList.add("slider__button--active"),promoSliderButtons[0].classList.remove("slider__button--active"),promoSliderButtons[1].classList.remove("slider__button--active")}),serviceSliderButtons[0].addEventListener("click",function(e){e.preventDefault(),serviceSliderItems[0].classList.add("service-slider__item--active"),serviceSliderItems[1].classList.remove("service-slider__item--active"),serviceSliderItems[2].classList.remove("service-slider__item--active"),serviceItem[0].classList.add("service__item--active"),serviceItem[1].classList.remove("service__item--active"),serviceItem[2].classList.remove("service__item--active")}),serviceSliderButtons[1].addEventListener("click",function(e){e.preventDefault(),serviceSliderItems[1].classList.add("service-slider__item--active"),serviceSliderItems[0].classList.remove("service-slider__item--active"),serviceSliderItems[2].classList.remove("service-slider__item--active"),serviceItem[1].classList.add("service__item--active"),serviceItem[0].classList.remove("service__item--active"),serviceItem[2].classList.remove("service__item--active")}),serviceSliderButtons[2].addEventListener("click",function(e){e.preventDefault(),serviceSliderItems[2].classList.add("service-slider__item--active"),serviceSliderItems[0].classList.remove("service-slider__item--active"),serviceSliderItems[1].classList.remove("service-slider__item--active"),serviceItem[2].classList.add("service__item--active"),serviceItem[0].classList.remove("service__item--active"),serviceItem[1].classList.remove("service__item--active")});
